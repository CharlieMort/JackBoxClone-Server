(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{56:function(e,t,c){},92:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),o=c(48),a=c.n(o),i=c(3),r=(c(56),c(49)),j=c.n(r),l=c(14),d=c(2),b=c(0),h=function(e){var t=e.startTime,c=e.roomInfo,s=e.stage,o=e.nextStage,a=Object(n.useState)(t),r=Object(i.a)(a,2),j=r[0],l=r[1],d=Object(n.useState)(null),h=Object(i.a)(d,2),u=h[0],O=h[1];return Object(n.useEffect)((function(){return c.stage===s&&null===u&&O(setInterval((function(){l((function(e){return e?e-1:0}))}),1e3)),c.stage===o&&null!==u&&(clearInterval(u),O(null)),function(){null!==u&&(clearInterval(u),O(null))}}),[c,u]),Object(b.jsx)("div",{children:Object(b.jsxs)("h1",{children:[j,"s Left"]})})},u=c(93),O=function(e){var t=e.roomInfo,c=e.icons;e.socket;return Object(b.jsxs)("div",{className:"Lobby",children:[Object(b.jsx)("h1",{children:Object(b.jsx)("b",{children:Object(b.jsx)("u",{children:"Players"})})}),Object(b.jsx)("div",{className:"Players",children:t.players.map((function(e,t){return Object(b.jsxs)("div",{className:"PlayerIcon",children:[Object(b.jsx)("img",{src:c[t%c.length],alt:"".concat(e.nick,"'s Icon")}),Object(b.jsx)("h3",{children:e.nick})]},Object(u.a)())}))})]})},m=function(e){var t=e.roomInfo,c=e.socket,n=e.icons;return Object(b.jsxs)("div",{children:[t.started?Object(b.jsx)(h,{startTime:20,roomInfo:t,stage:"game",nextStage:"matches"}):t.players.length>=2?Object(b.jsx)("button",{onClick:function(){return c.emit("StartGame",t.code)},children:"Start Game?"}):Object(b.jsx)("h3",{children:"Not Enough Players To Start"}),Object(b.jsx)(O,{roomInfo:t,icons:n,socket:c})]})},x=function(e){var t=e.roomInfo,c=e.socket,s=Object(n.useState)(0),o=Object(i.a)(s,2),a=o[0],r=o[1],j=Object(n.useState)(null),l=Object(i.a)(j,2),d=l[0],h=l[1];return Object(n.useEffect)((function(){return h(setInterval((function(){r((function(e){return e+1}))}),2e3)),function(){null!==d&&clearInterval(d)}}),[]),Object(n.useEffect)((function(){a>t.showcaseConvo.msgs.length&&null!==d&&clearInterval(d)}),[a]),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){return c.emit("ToMatchShowcase",t.code)},children:"Matches"}),Object(b.jsxs)("div",{className:"Conversation",children:[t.showcaseConvo.msgs.slice(0,a).map((function(e){return Object(b.jsxs)("div",{className:"Msg ".concat(t.showcaseConvo.recipiants[0]===e.sender?"mine":"theirs"),children:[Object(b.jsx)("h2",{className:"Msg-txt",children:e.txt}),Object(b.jsxs)("h4",{className:"Msg-sender",children:["From ",e.senderNick]})]},Object(u.a)())})),Object(b.jsx)("div",{ref:function(e){return null===e||void 0===e?void 0:e.scrollIntoView()}})]})]})},f=function(e){var t=e.roomInfo,c=e.socket,s=e.icons,o=Object(n.useState)([0,0]),a=Object(i.a)(o,2),r=a[0],j=a[1];return Object(n.useEffect)((function(){if(void 0!==t.showcaseConvo){for(var e=[0,0],c=0;c<t.players.length;c++)t.showcaseConvo.recipiants[0]===t.players[c].id?e[0]=c:t.showcaseConvo.recipiants[1]===t.players[c].id&&(e[1]=c);j(e)}}),[]),void 0===t.showcaseConvo?Object(b.jsx)("h1",{children:"No One Msged Eachother and thats kinda cringe"}):Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Showcase"}),Object(b.jsxs)("div",{className:"Showcase-Icons-Wrapper",children:[Object(b.jsxs)("div",{className:"PlayerIcon",children:[Object(b.jsx)("img",{src:s[r[0]%s.length],alt:"".concat(t.showcaseConvo.recipiantsNicks[0],"'s Icon")}),Object(b.jsx)("h3",{children:t.showcaseConvo.recipiantsNicks[0]})]},Object(u.a)()),Object(b.jsxs)("div",{className:"PlayerIcon",children:[Object(b.jsx)("img",{src:s[r[1]%s.length],alt:"".concat(t.showcaseConvo.recipiantsNicks[1],"'s Icon")}),Object(b.jsx)("h3",{children:t.showcaseConvo.recipiantsNicks[1]})]},Object(u.a)())]}),Object(b.jsx)(x,{roomInfo:t,socket:c})]})},v=function(e){var t=e.roomInfo;e.socket;return Object(b.jsxs)("div",{children:[Object(b.jsx)(h,{roomInfo:t,startTime:30,stage:"matches",nextStage:"showcase"}),Object(b.jsx)("h1",{children:"Choose Your Match"})]})},g=function(e){var t=e.roomInfo,c=e.socket,n=e.icons;return Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){return c.emit("NextLeaderboard",t.code)},children:"Next"}),t.matchOutcomes.map((function(e,t){return Object(b.jsxs)("div",{className:"Match",children:[Object(b.jsxs)("div",{className:"PlayerIcon",children:[Object(b.jsx)("img",{src:n[e.players[0].idx%n.length],alt:"".concat(e.players[0].nick,"'s Icon")}),Object(b.jsx)("h3",{children:e.players[0].nick})]},Object(u.a)()),Object(b.jsx)("h1",{children:e.outcome}),Object(b.jsxs)("div",{className:"PlayerIcon",children:[Object(b.jsx)("img",{src:n[e.players[1].idx%n.length],alt:"".concat(e.players[1].nick,"'s Icon")}),Object(b.jsx)("h3",{children:e.players[1].nick})]},Object(u.a)())]},Object(u.a)())}))]})},p=function(e){var t=e.roomInfo,c=e.socket;return Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){return c.emit("NextStage",t.code)},children:"Next"}),Object(b.jsx)("ol",{children:t.leaderBoard.map((function(e,t){return Object(b.jsxs)("li",{children:[e.nick,": ",e.score," ","<3"]},Object(u.a)())}))})]})},k=function(e){var t=e.socket,c=e.roomInfo;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("h1",{children:["Round ",c.round+1]}),Object(b.jsx)("button",{onClick:function(){return t.emit("NextRound",c.code)},children:"Onwards"})]})},I=function(e){var t=e.socket,c=e.roomInfo,n=e.icons;return console.log(c.stage),Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Host Screen"}),Object(b.jsxs)("h2",{children:["Room Code: ",c.code]}),("game"===c.stage||"lobby"===c.stage)&&Object(b.jsx)(m,{icons:n,roomInfo:c,socket:t}),"matches"===c.stage&&Object(b.jsx)(v,{roomInfo:c,socket:t}),"showcase"===c.stage&&Object(b.jsx)(f,{icons:n,roomInfo:c,socket:t}),"match_showcase"===c.stage&&Object(b.jsx)(g,{icons:n,roomInfo:c,socket:t}),"leaderboard"===c.stage&&Object(b.jsx)(p,{roomInfo:c,socket:t}),"show_round"===c.stage&&Object(b.jsx)(k,{roomInfo:c,socket:t})]})},N=function(e){var t=e.socket,c=e.roomInfo,s=Object(d.g)(),o=Object(n.useState)(),a=Object(i.a)(o,2),r=a[0],j=a[1];Object(n.useEffect)((function(){console.log(r),"host"===r&&s.push("/host")}),[c]);return Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"button",value:"Join Room",onClick:function(){s.push("/game")}}),Object(b.jsx)("input",{type:"button",value:"Host Room",onClick:function(){t.emit("CreateRoom"),j("host")}})]})},y=c(51),S=function(e){var t=e.roomInfo,c=e.socket,s=e.icons,o=Object(n.useState)([!1]),a=Object(i.a)(o,2),r=a[0],j=a[1],l=Object(d.g)();Object(n.useEffect)((function(){for(var e=[],n=0;n<t.players.length;n++)e.push(!1),j(e);c.on("NewMsg",(function(e){console.log(e);for(var c=[],n=0;n<t.players.length;n++)c.push(!!r[n]);c[e]=!0,j(c)}))}),[]);return Object(b.jsx)("div",{children:"game"===t.stage&&Object(b.jsx)("div",{className:"Players",children:t.players.map((function(e,t){return e.id===c.id?Object(b.jsx)(b.Fragment,{}):Object(b.jsx)("button",{className:"Icon-Btn",onClick:function(){return function(e){var t=Object(y.a)(r);t[e]=!1,j(t),l.push("/game/".concat(e))}(t)},children:Object(b.jsxs)("div",{className:"PlayerIcon",children:[Object(b.jsx)("img",{src:s[t%s.length],alt:"".concat(e.nick,"'s Icon")}),Object(b.jsxs)("h3",{className:"Icon-Txt",children:["Message ",e.nick]}),r[t]&&Object(b.jsx)("h3",{children:"New Msg"})]})})}))})})},w=function(e){var t=e.socket,c=Object(n.useState)(""),s=Object(i.a)(c,2),o=s[0],a=s[1],r=function(e){e.preventDefault(),t.emit("JoinRoom",o)};return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onSubmit:r,children:[Object(b.jsx)("input",{type:"text",placeholder:"Enter Room Code...",onChange:function(e){a(e.target.value)},value:o,autoFocus:!0}),Object(b.jsx)("input",{type:"submit",value:"Join Room"})]})})},C=function(e){var t=e.socket,c=e.setNicked,s=Object(n.useState)(""),o=Object(i.a)(s,2),a=o[0],r=o[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"Enter Nickname"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.emit("CreateNickname",a),c(!0)},children:[Object(b.jsx)("input",{type:"text",placeholder:"Enter Nickname Here...",onChange:function(e){r(e.target.value)},value:a,autoFocus:!0}),Object(b.jsx)("input",{type:"button",value:"submit"})]})]})},M=function(e){var t=e.conversation,c=e.id;return Object(b.jsx)("div",{className:"Conversation",children:t.msgs.map((function(e){return Object(b.jsxs)("div",{className:"Msg ".concat(c===e.sender?"mine":"theirs"),children:[Object(b.jsx)("h2",{className:"Msg-txt",children:e.txt}),Object(b.jsxs)("h4",{className:"Msg-sender",children:["From ",e.senderNick]})]},Object(u.a)())}))})},P=function(e){var t=e.roomInfo,c=e.player,s=e.socket,o=e.icons,a=e.idx,r=Object(n.useState)(),j=Object(i.a)(r,2),d=j[0],h=j[1];return Object(b.jsx)("div",{className:"Messages-Wrapper",children:Object(b.jsxs)("div",{className:"Messages",children:[Object(b.jsxs)("div",{className:"Top-Banner",children:[Object(b.jsx)(l.b,{className:"Home-Btn",to:"/game",children:Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"Home-Icon",viewBox:"0 0 20 20",fill:"white",children:Object(b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z",clipRule:"evenodd"})})}),Object(b.jsx)("img",{className:"Msg-Icon",src:o[a%o.length],alt:"".concat(c.nick,"'s Icon")}),Object(b.jsx)("h2",{className:"Msg-Name",children:c.nick})]}),Object(b.jsxs)("div",{className:"Player",children:[t.conversations.map((function(e){return e.recipiants.includes(s.id)&&e.recipiants.includes(c.id)?Object(b.jsx)(M,{conversation:e,id:s.id},Object(u.a)()):Object(b.jsx)(b.Fragment,{})})),Object(b.jsx)("div",{children:Object(b.jsxs)("form",{className:"BottomBar",onSubmit:function(e){e.preventDefault(),h(""),s.emit("SendMsg",t.code,d,c.id)},children:[Object(b.jsx)("input",{className:"Msg-Box",type:"text",autoFocus:!0,placeholder:"Enter Msg....",value:d,onChange:function(e){h(e.target.value)}}),Object(b.jsx)("input",{className:"Send",type:"submit",value:"Send"})]})}),Object(b.jsx)("div",{ref:function(e){return null===e||void 0===e?void 0:e.scrollIntoView()}})]})]})})},E=function(e){var t=e.roomInfo,c=e.socket,s=e.icons,o=Object(n.useState)(!1),a=Object(i.a)(o,2),r=a[0],j=a[1];return r?Object(b.jsx)("div",{children:Object(b.jsx)("h1",{children:"Great You've Picked Your Match. Will They Match Back??"})}):Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Pick Someone To Match With"}),Object(b.jsx)("div",{className:"Players",children:t.players.map((function(e,n){return e.id===c.id?Object(b.jsx)(b.Fragment,{}):Object(b.jsx)("button",{className:"Icon-Btn",onClick:function(){return function(e){c.emit("PickMatch",e,t.code),j(!0)}(n)},children:Object(b.jsxs)("div",{className:"PlayerIcon",children:[Object(b.jsx)("img",{src:s[n%s.length],alt:"".concat(e.nick,"'s Icon")}),Object(b.jsxs)("h3",{className:"Icon-Txt",children:["Choose ",e.nick]})]})})}))})]})},B=function(e){var t=e.socket,c=e.roomInfo,s=e.icons,o=Object(n.useState)(!1),a=Object(i.a)(o,2),r=a[0],j=a[1];return r?c?Object(b.jsx)("div",{children:Object(b.jsx)(l.a,{children:Object(b.jsxs)(d.d,{children:[Object(b.jsx)(d.b,{path:"/game",exact:!0,children:c.started?"game"===c.stage?Object(b.jsx)(S,{roomInfo:c,socket:t,icons:s}):"matches"===c.stage?Object(b.jsx)(E,{icons:s,roomInfo:c,socket:t}):"match_showcase"===c.stage?Object(b.jsx)("h1",{children:"Did Your Match Pick You Back???"}):Object(b.jsx)("h1",{children:"Look at host screen... Im gonna leek your dms"}):Object(b.jsx)("h1",{children:"You Joined But The Game Hasnt Started Yet"})}),c.players.map((function(e,n){return Object(b.jsx)(d.b,{path:"/game/".concat(n),children:"game"===c.stage?Object(b.jsx)(P,{icons:s,idx:n,player:e,roomInfo:c,socket:t}):Object(b.jsx)(d.a,{to:"/game"})},Object(u.a)())}))]})})}):Object(b.jsx)(w,{socket:t}):Object(b.jsx)(C,{socket:t,setNicked:j})},R=c.p+"static/media/alien.33c2e6d4.png",T=c.p+"static/media/bear.7851eea3.png",F=c.p+"static/media/brain.a3f757a3.png",H=c.p+"static/media/bruh.ded5b09f.png",Y=c.p+"static/media/grimreaper.c0611eb8.png",J=c.p+"static/media/vampire.966346d1.png",L=j()(),D=function(){var e=Object(n.useState)([R,T,F,H,Y,J]),t=Object(i.a)(e,1)[0],c=Object(n.useState)(),s=Object(i.a)(c,2),o=s[0],a=s[1];return Object(n.useEffect)((function(){L.on("RoomInfo",(function(e){console.log(e),a(e)}))}),[]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("h1",{children:"Liam uwu"}),Object(b.jsx)(l.a,{children:Object(b.jsxs)(d.d,{children:[Object(b.jsx)(d.b,{path:"/",exact:!0,children:Object(b.jsx)(N,{socket:L,roomInfo:o})}),Object(b.jsx)(d.b,{path:"/game",children:Object(b.jsx)(B,{socket:L,roomInfo:o,icons:t})}),!o&&Object(b.jsx)(d.a,{to:"/"}),Object(b.jsx)(d.b,{path:"/host",children:o&&Object(b.jsx)(I,{socket:L,roomInfo:o,icons:t})})]})})]})};a.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.cec5fd70.chunk.js.map